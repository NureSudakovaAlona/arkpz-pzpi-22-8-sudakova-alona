# FocusLearn: Бізнес-логіка та Адміністрування

Проєкт **FocusLearn** реалізує функції для ефективного управління концентрацією користувачів, включаючи налаштування, імпорт даних та створення резервних копій. 

---

## **Бізнес-логіка**

### Основні можливості:
1. **Відстеження сесій**:
   - Класифікація сесій за типом: `Concentration` (концентрація) та `Break` (перерва).
   - Розрахунок загального часу концентрації та кількості зроблених/пропущених перерв.
2. **Методи підвищення концентрації**:
   - Оновлення статистики методів.
   - Автоматичне визначення найбільш ефективного методу для користувача.
3. **Періодичний аналіз**:
   - Статистика доступна для обраного періоду (день, тиждень, місяць).
   - Розрахунок пропущених перерв на основі плану.

---

## **Налаштування та Адміністрування**

### 1. **Імпорт даних**
- **Формат файлу для імпорту**: 
  - JSON-файли.
- **Як імпортувати**:
  - Завантажити файл через інтерфейс адміністратора або через вказаний шлях у конфігураціях.
  - Синтаксис для обробки файлів:
    ```csharp
    var importedData = JsonConvert.DeserializeObject<List<Session>>(File.ReadAllText(importFilePath));
    ```

### 2. **Резервне копіювання (Backup)**
- **Формат резервної копії**: JSON-файл з усіма даними сесій і статистики методів.
- **Шлях для збереження**:
  - Можливість змінити шлях через налаштування конфігурацій:
    ```csharp
    var backupPath = "./Backups/backup-{DateTime.Now:yyyyMMddHHmmss}.json";
    File.WriteAllText(backupPath, JsonConvert.SerializeObject(dataToBackup));
    ```

### 3. **Обробка періодичної статистики**
- **Шляхи обробки періодів**:
  - Типи періодів: `"day"`, `"week"`, `"month"`.
  - Метод визначення кінцевої дати періоду:
    ```csharp
    private DateTime GetPeriodEndDate(DateTime startDate, string periodType)
    {
        return periodType.ToLower() switch
        {
            "day" => startDate.AddDays(1),
            "week" => startDate.AddDays(7),
            "month" => startDate.AddMonths(1),
            _ => throw new ArgumentException("Invalid period type.")
        };
    }
    ```
- Перевірка доступності даних для обраного періоду.

---

## **Нюанси налаштувань**

1. **Параметри імпорту**:
   - Шлях до файлу імпорту вказується у конфігураціях:
     ```csharp
     var importFilePath = "./Data/import-sessions.json";
     ```
   - Дані мають бути у форматі JSON.

2. **Параметри бекапу**:
   - Шлях для збереження резервної копії конфігурується:
     ```csharp
     var backupDirectory = "./Backups";
     Directory.CreateDirectory(backupDirectory);
     ```
   - Ім'я файлу включає позначку часу.

3. **Обробка некоректних даних**:
   - Дані без `Duration` або `SessionType` ігноруються:
     ```csharp
     var validSessions = sessions.Where(s => s.Duration.HasValue && !string.IsNullOrEmpty(s.SessionType)).ToList();
     ```

---

## **Адміністративні ролі**

1. **Адміністратор**:
   - Відповідає за імпорт/експорт даних.
   - Контролює конфігурацію шляхів для файлів.
   - Валідує введені дані.

2. **Користувач**:
   - Отримує доступ до статистики.
   - Використовує методи концентрації на основі аналітики.

---
